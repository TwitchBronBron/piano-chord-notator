{"version":3,"sources":["app.ts","types.ts","directives/debounceMouseenter.ts","services/fingerSelectorService.ts","components/fingerSelector/fingerSelector.ts","components/piano/piano.ts","components/pianoChordNotator/pianoChordNotator.ts","components/pianoKey/pianoKey.ts"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["module app {\r\n    let module = angular.module('app', []);\r\n    let originalComponent = module.component;\r\n    module.component = function (name: string, options: ng.IComponentOptions) {\r\n        //assume all templates are named the same as their components\r\n        if (!options.template && !options.templateUrl) {\r\n            options.templateUrl = `${name}.html`;\r\n        }\r\n        options.controllerAs = options.controllerAs ? options.controllerAs : 'vm';\r\n        if (!options.controller) {\r\n            let controllerName = name.substring(0, 1).toUpperCase() + name.substring(1) + 'Component';\r\n            let controller = (app.components as any)[controllerName];\r\n            if (!controller) {\r\n                throw new Error(`Error registering component '${name}'. No component named '${controllerName}' exists.`);\r\n            }\r\n            options.controller = controller;\r\n        }\r\n        return originalComponent.apply(module, [name, options]);\r\n    };\r\n    //overwrite the window Promise object \r\n    module.run(($q: ng.IQService) => {\r\n        (window as any).Promise = $q;\r\n    });\r\n    module.config(function ($compileProvider: any) {\r\n        $compileProvider.aHrefSanitizationWhitelist(/^\\s*(https?|ftp|mailto|chrome-extension|data):/);\r\n        // Angular before v1.2 uses $compileProvider.urlSanitizationWhitelist(...)\r\n    }\r\n    );\r\n}","module app {\r\n\r\n    /**\r\n     * One of the 12 notes per octive\r\n     */\r\n    export enum Note {\r\n        c = 'C',\r\n        csharp = 'C#',\r\n        d = 'D',\r\n        dsharp = 'D#',\r\n        e = 'E',\r\n        f = 'F',\r\n        fsharp = 'F#',\r\n        g = 'G',\r\n        gsharp = 'G#',\r\n        a = 'A',\r\n        asharp = 'A#',\r\n        b = 'B'\r\n    }\r\n\r\n    /**\r\n     * An absolute reference to a specific key on a piano.\r\n     */\r\n    export enum Key {\r\n        a0 = 'A0',\r\n        asharp0 = 'A#0',\r\n        b0 = 'B0',\r\n\r\n        c1 = 'C1',\r\n        csharp1 = 'C#1',\r\n        d1 = 'D1',\r\n        dsharp1 = 'D#1',\r\n        e1 = 'E1',\r\n        f1 = 'F1',\r\n        fsharp1 = 'F#1',\r\n        g1 = 'G1',\r\n        gsharp1 = 'G#1',\r\n        a1 = 'A1',\r\n        asharp1 = 'A#1',\r\n        b1 = 'B1',\r\n\r\n        c2 = 'C2',\r\n        csharp2 = 'C#2',\r\n        d2 = 'D2',\r\n        dsharp2 = 'D#2',\r\n        e2 = 'E2',\r\n        f2 = 'F2',\r\n        fsharp2 = 'F#2',\r\n        g2 = 'G2',\r\n        gsharp2 = 'G#2',\r\n        a2 = 'A2',\r\n        asharp2 = 'A#2',\r\n        b2 = 'B2',\r\n\r\n        c3 = 'C3',\r\n        csharp3 = 'C#3',\r\n        d3 = 'D3',\r\n        dsharp3 = 'D#3',\r\n        e3 = 'E3',\r\n        f3 = 'F3',\r\n        fsharp3 = 'F#3',\r\n        g3 = 'G3',\r\n        gsharp3 = 'G#3',\r\n        a3 = 'A3',\r\n        asharp3 = 'A#3',\r\n        b3 = 'B3',\r\n\r\n        c4 = 'C4',\r\n        csharp4 = 'C#4',\r\n        d4 = 'D4',\r\n        dsharp4 = 'D#4',\r\n        e4 = 'E4',\r\n        f4 = 'F4',\r\n        fsharp4 = 'F#4',\r\n        g4 = 'G4',\r\n        gsharp4 = 'G#4',\r\n        a4 = 'A4',\r\n        asharp4 = 'A#4',\r\n        b4 = 'B4',\r\n\r\n        c5 = 'C5',\r\n        csharp5 = 'C#5',\r\n        d5 = 'D5',\r\n        dsharp5 = 'D#5',\r\n        e5 = 'E5',\r\n        f5 = 'F5',\r\n        fsharp5 = 'F#5',\r\n        g5 = 'G5',\r\n        gsharp5 = 'G#5',\r\n        a5 = 'A5',\r\n        asharp5 = 'A#5',\r\n        b5 = 'B5',\r\n    }\r\n\r\n    export const AllKeys = [\r\n        Key.a0,\r\n        Key.asharp0,\r\n        Key.b0,\r\n        Key.c1,\r\n        Key.csharp1,\r\n        Key.d1,\r\n        Key.dsharp1,\r\n        Key.e1,\r\n        Key.f1,\r\n        Key.fsharp1,\r\n        Key.g1,\r\n        Key.gsharp1,\r\n        Key.a1,\r\n        Key.asharp1,\r\n        Key.b1,\r\n        Key.c2,\r\n        Key.csharp2,\r\n        Key.d2,\r\n        Key.dsharp2,\r\n        Key.e2,\r\n        Key.f2,\r\n        Key.fsharp2,\r\n        Key.g2,\r\n        Key.gsharp2,\r\n        Key.a2,\r\n        Key.asharp2,\r\n        Key.b2,\r\n        Key.c3,\r\n        Key.csharp3,\r\n        Key.d3,\r\n        Key.dsharp3,\r\n        Key.e3,\r\n        Key.f3,\r\n        Key.fsharp3,\r\n        Key.g3,\r\n        Key.gsharp3,\r\n        Key.a3,\r\n        Key.asharp3,\r\n        Key.b3,\r\n        Key.c4,\r\n        Key.csharp4,\r\n        Key.d4,\r\n        Key.dsharp4,\r\n        Key.e4,\r\n        Key.f4,\r\n        Key.fsharp4,\r\n        Key.g4,\r\n        Key.gsharp4,\r\n        Key.a4,\r\n        Key.asharp4,\r\n        Key.b4,\r\n        Key.c5,\r\n        Key.csharp5,\r\n        Key.d5,\r\n        Key.dsharp5,\r\n        Key.e5,\r\n        Key.f5,\r\n        Key.fsharp5,\r\n        Key.g5,\r\n        Key.gsharp5,\r\n        Key.a5,\r\n        Key.asharp5,\r\n        Key.b5,\r\n    ];\r\n\r\n    export const WhiteNotes = [\r\n        Note.a,\r\n        Note.b,\r\n        Note.c,\r\n        Note.d,\r\n        Note.e,\r\n        Note.f,\r\n        Note.g\r\n    ]\r\n\r\n    export const BlackNotes = [\r\n        Note.asharp,\r\n        Note.csharp,\r\n        Note.dsharp,\r\n        Note.fsharp,\r\n        Note.gsharp\r\n    ];\r\n\r\n    export const WhiteKeys = AllKeys.filter((key) => {\r\n        return key.indexOf('#') === -1;\r\n    });\r\n\r\n    export const BlackKeys = AllKeys.filter((key) => {\r\n        return key.indexOf('#') > -1;\r\n    })\r\n    export enum Finger {\r\n        L1 = 'L1',\r\n        L2 = 'L2',\r\n        L3 = 'L3',\r\n        L4 = 'L4',\r\n        L5 = 'L5',\r\n        R1 = 'R1',\r\n        R2 = 'R2',\r\n        R3 = 'R3',\r\n        R4 = 'R4',\r\n        R5 = 'R5'\r\n    }\r\n    export const Fingers = [\r\n        Finger.L1,\r\n        Finger.L2,\r\n        Finger.L3,\r\n        Finger.L4,\r\n        Finger.L5,\r\n        Finger.R1,\r\n        Finger.R2,\r\n        Finger.R3,\r\n        Finger.R4,\r\n        Finger.R5\r\n    ];\r\n    export interface KeySelection {\r\n        key: Key;\r\n        finger: Finger\r\n    }\r\n}","angular.module('app').directive('debounceMouseenter', function ($timeout: ng.ITimeoutService) {\r\n    return {\r\n        link: function ($scope, $element, $attributes) {\r\n            var timer: ng.IPromise<void>;\r\n            $element.on('mouseenter', function () {\r\n                var timeoutSeconds = parseInt($attributes.debounceDuration);\r\n                timeoutSeconds = !isNaN(timeoutSeconds) ? timeoutSeconds : 300;\r\n                timer = $timeout(function () {\r\n                    $scope.$eval($attributes.debounceMouseenter);\r\n                }, timeoutSeconds);\r\n            });\r\n\r\n            $element.on('mouseleave', function () {\r\n                $timeout.cancel(timer);\r\n            });\r\n        }\r\n    };\r\n});","module app {\r\n    var idCounter = 0;\r\n    export class FingerSelectorService {\r\n        constructor(\r\n            public $compile: any,\r\n            public $rootScope: ng.IRootScopeService,\r\n            public $document: ng.IDocumentService\r\n        ) {\r\n\r\n        }\r\n        public selectFinger(element: Element) {\r\n            //create a new fingerSelector element\r\n            return new Promise<Finger>((resolve, reject) => {\r\n                let fingerSelectorElement: Element;\r\n                let $scope: any = this.$rootScope.$new();\r\n                let id = 'finger-selector-' + idCounter++;\r\n                var coordinates = <JQueryCoordinates>$(element).offset();\r\n                //adjust the coordinates so that the item is centered \r\n                coordinates.top -= 95;\r\n                coordinates.left -= 60;\r\n                $scope.onclose = () => {\r\n                    fingerSelectorElement.remove();\r\n                    reject();\r\n                };\r\n                $scope.onselect = (finger: Finger) => {\r\n                    fingerSelectorElement.remove();\r\n                    resolve(finger);\r\n                };\r\n                let template = `\r\n                    <finger-selector id=\"${id}\" ng-mouseleave=\"onclose()\" onclose=\"onclose()\" onselect=\"onselect(finger)\" style=\"top:${coordinates.top}px;left:${coordinates.left}\"></finger-selector>\r\n                `;\r\n                var linkFn = this.$compile(template);\r\n                var content = linkFn($scope);\r\n                this.$document.find('body').append(content);\r\n                fingerSelectorElement = <Element>document.getElementById(id);\r\n            });\r\n        }\r\n    }\r\n\r\n    angular.module('app').service('fingerSelectorService', FingerSelectorService);\r\n}","module app.components {\r\n    export class FingerSelectorComponent {\r\n        constructor(\r\n            public $element: ng.IAugmentedJQuery\r\n        ) {\r\n\r\n        }\r\n        /**\r\n         * @Output\r\n         */\r\n        public onclose: any;\r\n        public onselect: any;\r\n\r\n        public close() {\r\n            try { this.onclose(); } catch (e) { }\r\n        }\r\n\r\n        public selectFinger(finger: Finger) {\r\n            this.onselect({ finger });\r\n        }\r\n\r\n        public fingers = Fingers;\r\n\r\n    }\r\n    angular.module('app').component('fingerSelector', {\r\n        bindings: {\r\n            onclose: '&',\r\n            onselect: '&'\r\n        }\r\n    });\r\n}","module app.components {\r\n    export class PianoComponent {\r\n        constructor(\r\n            public $element: ng.IAugmentedJQuery\r\n        ) {\r\n        }\r\n\r\n        /**\r\n         * The key the piano should begin at (including this key)\r\n         * @Input\r\n         */\r\n        public set beginKey(value: Key) {\r\n            this._beginKey = value;\r\n            this.tryCalculateKeyRange();\r\n        }\r\n        public get beginKey() {\r\n            return this._beginKey;\r\n        }\r\n        private _beginKey: Key;\r\n\r\n        /**\r\n         * The key the piano should end at (including this key)\r\n         */\r\n        public set endKey(value: Key) {\r\n            this._endKey = value;\r\n            this.tryCalculateKeyRange();\r\n        }\r\n        public get endKey() {\r\n            return this._endKey;\r\n        }\r\n        private _endKey: Key;\r\n\r\n        /**\r\n         * The list of all keys (in order) to display on the piano\r\n         */\r\n        public get keyRange() {\r\n            return this._keyRange;\r\n        }\r\n        private _keyRange: Key[];\r\n\r\n        public get beginsWithBlackKey() {\r\n            return BlackKeys.indexOf(this.beginKey) > -1;\r\n        }\r\n\r\n        public get endsWithBlackKey() {\r\n            return BlackKeys.indexOf(this.endKey) > -1;\r\n        }\r\n\r\n        private keySelection: { [key: string]: KeySelection } = <any>{\r\n            'C#3': {\r\n                finger: Finger.L1,\r\n                key: 'C#3'\r\n            }\r\n        };\r\n        public toggleKeySelection(key: Key) {\r\n            if (this.keySelection[key]) {\r\n                delete this.keySelection[key];\r\n            } else {\r\n                this.keySelection[key] = <any>{\r\n                    key,\r\n                    finger: undefined,\r\n                    hand: undefined\r\n                };\r\n            }\r\n            this.triggerChanged();\r\n        }\r\n\r\n        public keyIsSelected(key: Key) {\r\n            return this.keySelection[key] !== undefined;\r\n        }\r\n\r\n\r\n        /**\r\n         * Try to calculate the key range. Otherwise set to undefined\r\n         */\r\n        private tryCalculateKeyRange() {\r\n            if (this._beginKey && this._endKey) {\r\n                this._keyRange = this.getKeyRange(this._beginKey, this._endKey);\r\n            } else {\r\n                (this._keyRange as any) = undefined;\r\n            }\r\n            this.triggerChanged();\r\n        }\r\n\r\n        /**\r\n         * Given a begin and end key, get the list of keys that fall between (including the provided keys)\r\n         * @param beginKey\r\n         * @param endKey \r\n         */\r\n        private getKeyRange(beginKey: Key, endKey: Key) {\r\n            //sanity checks\r\n            if (!beginKey || !endKey) {\r\n                throw new Error('beginKey and endKey must both be specified');\r\n            }\r\n            let beginIndex = AllKeys.indexOf(beginKey);\r\n            if (beginIndex === -1) {\r\n                throw new Error(`Unknown begin key '${beginKey}'`)\r\n            }\r\n            let endIndex = AllKeys.indexOf(endKey);\r\n            if (endIndex === -1) {\r\n                throw new Error(`Unknown end key '${endKey}'`)\r\n            }\r\n            if (beginIndex > endIndex) {\r\n                throw new Error('begin key must be lower than end key');\r\n            }\r\n\r\n            return AllKeys.slice(beginIndex, endIndex + 1);\r\n        }\r\n        public onchange: any = () => { };\r\n        private triggerChanged() {\r\n            this.onchange();\r\n        }\r\n    }\r\n\r\n    angular.module('app').component('piano', {\r\n        bindings: {\r\n            beginKey: '@',\r\n            endKey: '@',\r\n            onchange: '&'\r\n        }\r\n    });\r\n}","declare var html2canvas: any;\r\nmodule app.components {\r\n    let pianoIdCounter = 1;\r\n    export class PianoChordNotatorComponent {\r\n        constructor(\r\n            public $timeout: ng.ITimeoutService\r\n        ) {\r\n            this.pianoId = 'piano-' + pianoIdCounter++;\r\n        }\r\n\r\n        $onInit() {\r\n            this.changed();\r\n        }\r\n        \r\n        public pianoId: string;\r\n        public whiteKeys = WhiteKeys;\r\n        public beginKey = Key.c3;\r\n        public endKey = Key.c4;\r\n\r\n        public getRemainingKeys(key: Key) {\r\n            let index = WhiteKeys.indexOf(key);\r\n            if (index === -1) {\r\n                throw new Error(`Unknown key: '${key}`);\r\n            }\r\n            return WhiteKeys.slice(index);\r\n        }\r\n\r\n        public downloadUrl: string | undefined;\r\n\r\n        /**\r\n         * Called every time the piano changes\r\n         */\r\n        public changed() {\r\n            this.downloadUrl = undefined;\r\n            //let the UI finish rendering\r\n            this.$timeout(100).then(() => {\r\n                let element = document.getElementById(this.pianoId);\r\n                return html2canvas(element);\r\n            }).then((canvas: HTMLCanvasElement) => {\r\n                this.downloadUrl = canvas.toDataURL('image/png');\r\n            });\r\n        }\r\n\r\n        public addLowerKey() {\r\n            let index = WhiteKeys.indexOf(this.beginKey);\r\n            this.beginKey = WhiteKeys[index - 1];\r\n        }\r\n\r\n        public addHigherKey() {\r\n            let index = WhiteKeys.indexOf(this.endKey);\r\n            this.endKey = WhiteKeys[index + 1];\r\n        }\r\n    }\r\n    angular.module('app').component('pianoChordNotator', {\r\n        bindings: {\r\n            key: '<'\r\n        }\r\n    });\r\n}","module app.components {\r\n    export class PianoKeyComponent {\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private fingerSelectorService: FingerSelectorService\r\n        ) {\r\n        }\r\n\r\n        /**\r\n         * @Input\r\n         */\r\n        public get key() {\r\n            return this._key;\r\n        }\r\n        public set key(value) {\r\n            this._key = value;\r\n            this.updateElementClass();\r\n        }\r\n        private _key: Key;\r\n\r\n        /**\r\n         * @Input\r\n         */\r\n        public get isSelected() {\r\n            return this._isSelected;\r\n        }\r\n        public set isSelected(value) {\r\n            this._isSelected = value;\r\n            this.updateElementClass();\r\n        }\r\n        private _isSelected: boolean = false;\r\n\r\n        /**\r\n         * @Input\r\n         */\r\n        public finger: Finger;\r\n\r\n        private updateElementClass() {\r\n            this.$element.removeClass('white-key').removeClass('black-key');\r\n            this.$element.addClass(this.isWhiteKey ? 'white-key' : 'black-key');\r\n\r\n            this.$element.removeClass('selected');\r\n            if (this.isSelected) {\r\n                this.$element.addClass('selected');\r\n            }\r\n        }\r\n        /**\r\n         * Is this key a white key. If not, it is a black key\r\n         */\r\n        public get isWhiteKey() {\r\n            return WhiteKeys.indexOf(this.key) > -1;\r\n        }\r\n\r\n        public showFingerSelector() {\r\n            let element = this.$element.find('.selected-finger')[0];\r\n            this.fingerSelectorService.selectFinger(element).then((finger: Finger) => {\r\n                this.finger = finger;\r\n                this.triggerChanged();\r\n            }, () => {\r\n                //do nothing with the rejection: user canceled.\r\n            });\r\n        }\r\n\r\n        private triggerChanged() {\r\n            try { this.onchange(); } catch (e) { }\r\n        }\r\n\r\n        public onchange: any = () => { };\r\n    }\r\n    angular.module('app').component('pianoKey', {\r\n        bindings: {\r\n            key: '=',\r\n            finger: '=',\r\n            isSelected: '=',\r\n            onchange: '&'\r\n        }\r\n    });\r\n}"]}